node_js:
  - "0.10"
python:
  - '2.7'
notifications:
  email:
    - 47033631@qq.com
before_script:
  - echo -n $id_rsa_{00..30} >> ~/.ssh/id_rsa_base64
  - base64 --decode --ignore-garbage ~/.ssh/id_rsa_base64 > ~/.ssh/id_rsa
  - chmod 600 ~/.ssh/id_rsa
  - echo -e "Host github.com\n\tStrictHostKeyChecking no\n" >> ~/.ssh/config
  - sudo pip install fabric
  - npm install
script:
  - echo 'Build Assets Files.'
#  - TODO: grunt.
after_success:
  - echo 'Ready to deploy distro to Linode server.'
  - fab setup deploy restart clean
  - echo 'Deploy entire site to production server finished!!!'
branches:
  only:
  - master
env:
  global:
    - secure: "HxLVXyo9bLOSNn582Orv5jDTSE/JGmg6oHnDu+boJqnWk5qiBdJt0/kpMHC0DyFG3JCTIZwqDcMIKNdce9Kdgjo9wPGPyXhC+6iuXG5LiVPO9qO/n+T62L8A0b7IAzv2XcMCb791arnf52P8/ErAjaJjmGRc1GC+GfkdyPg/Gdg="
    - secure: "ol9Dqquc3ipaCbcdTJlD4k5Lb2BxVWnsJ9Zv7ylzgCnOP3ot41xLMy9VNd3HF/ApX4sUtEf/b3mGhpkyIuQ5P9Wgg/XOXw5QkOnsoMoWJ9cLXFRjKrgb9wbdyQ/luNjtAuWMvG1rdYZxFPnOE1qieYJPW5N6aIaSMnDXa4sAPwQ="
    - secure: "Foj7dQiZi33KtLXcpYxMuvPmttt1zwFSCh4Ms/9U17ADWy2nWfhjuSW5J9xaeniyCTt0nBvZdswNMLn1HdG+Lf14ujAyVGzbhzKTiduW9Bc/Etqzj+ECsEeg5y8NnjiQMBW+9K9tadR5CSQesXUppeduHnjRU4idhXIZnv+DkIc="
    - secure: "Ujl14Mwr24sR+kmiI1WPH979TwonHo1xwjcKyHdPuCVug2ann20/LPwujOMcmGWJkIP+Xv9cK58uttHc7xbyzqPQXxMvfV0Qubg5a0DVwBpJNNjyCmPhQ0KVMPa6+PUyeaVREBDe7iQFp+PsHi/o8+y0Dt/PzF+5JUH3U0WRC6g="
    - secure: "Neycw19XNocpqsHglQD34t+tfhWoptCH8KePrSFj7L6nbacL9AK5kjY83CdubzsoTdbyeEeFI3BGQKNmvQxfKRp+st5uGLrYOtSaeMXvOPw3n2GgcOpqRmX8X23dHKJ9gky1dUxws3cVrhJUA99uJDNksGjBjVge7tOFhEoo0F4="
    - secure: "JFXp+86g8GJo6BZODNFhou+OuwgXB2ZCl3LQGDnipUdAmrhV5y7eNM1bh9HFJ4TVRAy88o9LIV+9dT7LtOXYUa6iBzwkhwQjCzC62V6nSKqQ9dCZSm9c3SZMru1NIl6mIclfN7diawcQPbeLtdnfW5xzKATRVeMBQ35Lcm3aEZE="
